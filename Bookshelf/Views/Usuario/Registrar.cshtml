@model Bookshelf.Models.Usuario

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Cadastro";
    ViewData["HideLogo"] = false;
}

<main class="flex-grow flex items-center justify-center p-4">
    <div class="container mx-auto max-w-4xl">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row">
            <div class="md:w-1/2 bg-gradient-to-br from-blue-700 to-blue-900 p-8 text-blue-50 flex flex-col justify-center">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold mb-2">Junte-se a nós!</h2>
                    <p class="text-blue-200">Crie sua conta e comece sua jornada literária</p>
                </div>
                <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?auto=format&fit=crop&w=800&q=80" alt="Pessoa lendo livro" class="w-full max-w-xs mx-auto rounded-lg floating" />
                <div class="mt-8 text-center">
                    <p class="text-blue-200">Já tem uma conta? <a asp-controller="Login" asp-action="Index" class="gold-text font-medium hover:underline">Faça login</a></p>
                </div>
            </div>

            <div class="md:w-1/2 p-8 md:p-10">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-blue-900 mb-2">Crie sua conta</h2>
                    <p class="text-gray-600">Preencha os campos abaixo para se registrar</p>
                </div>
                <form asp-controller="Usuario" asp-action="Registrar" method="post" id="registrationForm" class="space-y-4">
                    @Html.AntiForgeryToken()
                    <div>
                        <label asp-for="Nome" class="block text-sm font-medium mb-1">Nome completo</label>
                        <input name="Nome" asp-for="Nome" class="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                        <span asp-validation-for="Nome" class="text-red-600 text-sm block mt-1"></span>
                    </div>

                    <div>
                        <label asp-for="Email" class="block text-sm font-medium mb-1">Email</label>
                        <input name="Email" asp-for="Email" class="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                        <span asp-validation-for="Email" class="text-red-600 text-sm block mt-1"></span>
                    </div>

                    <div>
                        <label asp-for="SenhaHash" class="block text-sm font-medium mb-1">Senha</label>
                        <input name="SenhaHash" asp-for="SenhaHash" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                        <span asp-validation-for="SenhaHash" class="text-red-600 text-sm block mt-1"></span>
                    </div>

                    <div>
                        <label asp-for="ConfirmarSenha" class="block text-sm font-medium mb-1">Confirmar Senha</label>
                        <input name="ConfirmarSenha" asp-for="ConfirmarSenha" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                        <span asp-validation-for="ConfirmarSenha" class="text-red-600 text-sm block mt-1"></span>
                    </div>

                    <div>
                        <label asp-for="FotoPerfil" class="block text-sm font-medium mb-1">Foto de Perfil (URL)</label>
                        <input name="FotoPerfil" asp-for="FotoPerfil" class="w-full px-4 py-2 border border-gray-300 rounded-lg" />
                        <span asp-validation-for="FotoPerfil" class="text-red-600 text-sm block mt-1"></span>
                    </div>

                <div class="flex items-start mt-4">
                    <input type="hidden" asp-for="Termos" value="false" />
                    <input name="Termos" asp-for="Termos" type="checkbox" class="h-4 w-4 text-amber-500 border-gray-300 rounded" value="true" />
                    <label asp-for="Termos" class="ml-2 text-sm font-medium text-gray-700">
                        Eu concordo com os <a href="#" class="text-blue-600 hover:underline">Termos de Serviço</a> e <a href="#" class="text-blue-600 hover:underline">Política de Privacidade</a>
                    </label>
                    <span asp-validation-for="Termos" class="text-red-600 text-sm block mt-1"></span>
                </div>

                    <div class="mt-6">
                        <button type="submit" class="w-full py-3 px-4 bg-gradient-to-br from-amber-500 to-yellow-400 text-white font-semibold rounded-lg hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500">
                            Criar conta
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.getElementById('togglePassword')?.addEventListener('click', function () {
            const pwInput = document.querySelector('input[name="SenhaHash"]');
            const icon = this.querySelector('i');
            if (pwInput.type === 'password') {
                pwInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                pwInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
    </script>
}